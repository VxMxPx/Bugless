(function(a,b,c){var d={List:{autorun:["global"],controller:{}},register:function(a,b,c){b==="controller"?this.List[b][a]=c:b==="model"?d[a]=c:console.warn("Invalid type provided: "+b)},autorun:function(){for(var a=0;a<this.List.autorun.count;a++)this.run(this.autorunList[a])},run:function(a){this.List.controller[a].init()},init:function(){this.autorun(),this.Messages.init()}};d.register("global","controller",{init:function(){}}),d.register("projects","controller",{newProject:function(){a(".no_projects").fadeOut("fast")},init:function(){d.Tags.register("fieldset.tags_container",Bugless_TagsCleanupUrl),a(".projects_add").on("click",this.newProject)}}),d.register("users","controller",{init:function(){typeof timezoneArray!="undefined"&&d.Select.connect("select.tz_continent","select.tz_country",timezoneArray)}}),d.register("Messages","model",{init:function(){$list=a("#messages"),$list.length&&($list.show(),setTimeout(function(){$list.fadeOut("normal",function(){$list.remove()})},8e3),$list.find(".mItem").each(function(b){$message=a(this),$message.delay(b*200).fadeIn(),$message.on("click",function(){a(this).fadeOut(120)}),$message.on("mouseenter",function(){a(this).addClass("over")}).on("mouseleave",function(){a(this).removeClass("over")})}))}}),d.register("Select","model",{connect:function(b,c,d){a(b).each(function(){var b=a(this),e="";b.on("change keyup",function(){a(c).each(function(){var c="";for(var e in d[b.attr("value")])e&&(c+='<option value="'+e+'">'+d[b.attr("value")][e]+"</option>");c!==""?(a(this).html(c),a(this).attr("disabled",!1)):(a(this).html(""),a(this).attr("disabled","disabled"))})});for(var f in d)e+='<option value="'+f+'">'+f+"</option>";b.html(e).trigger("keyup")})}}),d.register("Tags","model",{onInputEvent:function(b,c){a.post(c,b)},register:function(b,c){var d=this,e=a(b),f=e.find("input.tags"),g=e.find("a.button.tags");f.on("keypress",function(a){a.which==13&&(d.onInputEvent(f.val(),c),a.preventDefault())}),g.on("click",function(){d.onInputEvent(f.val(),c)})}}),d.init(),b.Bugless=d})(jQuery,window);